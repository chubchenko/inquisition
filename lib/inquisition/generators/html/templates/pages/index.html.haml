.col-md-3.left_col
  .left_col.scroll-view
    .navbar.nav_title{:style => "border: 0;"}
      %a.site_title{:href => "index.html"}
        %i.fa.fa-paw
        %span Code Auditor!
    %br/
    .main_menu
      %nav#sidebar
        .sidebar-header
          %h3 Reports
        %ul.nav.side-menu
          - menu_items.each do |item|
            %li
              - if item[:child_items] && item[:child_items].any?
                %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "collapse", :href => "##{item[:class]}"}
                  = item[:name]
                  %span.fa.fa-chevron-down
                %ul.collapse.nav.side-menu{ id: item[:class] }
                  - item[:child_items].each do |child_item|
                    %li
                      - if child_item[:child_items] && child_item[:child_items].any?
                        %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "collapse", :href => "##{child_item[:class]}"}
                          = child_item[:name]
                          %span.fa.fa-chevron-down
                        %ul.collapse.nav.side-menu{ id: child_item[:class] }
                          - child_item[:child_items].each do |nested_item|
                            %li
                              %a{:href => "#{nested_item[:link]}"}= nested_item[:name]
                      - else
                        %a{:href => "#{child_item[:link]}"}= child_item[:name]
              - else
                %a{:href => "#{item[:link]}"}= item[:name]
.top_nav
  .nav_menu
    %nav
      %ul.nav.navbar-nav.navbar-right
        %li
          %a.user-profile{:class => "aria-expanded=", :false => "", :href => "javascript:;"}
            %i.fa.fa-envelope-o
            = succeed "code_auditor@rubygarage.org" do
              %img{:alt => "", :src => "images/img.jpg"}/
.right_col{:role => "main"}
  .row.tile_count
    .col-md-2.col-sm-4.col-xs-6.tile_stats_count
      %span.count_top
        %i.fa.fa-diamond
        Ruby version
      .count= ruby_version
    .col-md-2.col-sm-4.col-xs-6.tile_stats_count
      %span.count_top
        %i.fa.fa-cog
        Rails version
      .count= rails_version
    .col-md-2.col-sm-4.col-xs-6.tile_stats_count
      %span.count_top
        %i.fa.fa-table
        Quantity of gems used
      .count= quantity_of_gems
    .col-md-2.col-sm-4.col-xs-6.tile_stats_count
      %span.count_top
        %i.fa.fa-database
        Database adapter
      .count= database_adapter
    .col-md-2.col-sm-4.col-xs-6.tile_stats_count
      %span.count_top
        %i.fa.fa-git-square
        Git
      .count
        %i.fa{ class: "#{git_existence? ? 'fa-check-circle' : 'fa-times-circle'}", style: "font-size: 55px;" }
    .col-md-2.col-sm-4.col-xs-6.tile_stats_count
      %span.count_top
        %i.fa.fa-cog
        Javascript Runtime Version
      .count= js_runtime_version
  / /top tiles
  %br/
  .row
    .col-md-12.col-sm-12.col-xs-12
      .x_panel.tile
        .x_title
          %h2 Files summary
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          %table.countries_list
            %tbody
              - files_summary_table[:headers].each do |header|
                %th= header
              - files_summary_table[:body].each do |body|
                %tr
                  %td= body[:type]
                  %td= body[:lines]
                  %td= body[:code_lines]
                  %td= body[:classes]
                  %td= body[:methods]
  %br/
  .row
    .col-md-4.col-sm-4.col-xs-12
      .x_panel.tile.fixed_height_320.overflow_hidden
        .x_title
          %h2 Errors chart
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          %table{:style => "width:100%"}
            %tr
              %th{:style => "width:37%;"}
                %p Top 5
              %th
                .col-lg-7.col-md-7.col-sm-7.col-xs-7
                  %p Type
                .col-lg-5.col-md-5.col-sm-5.col-xs-5
                  %p Total errors
            %tr
              %td
                %canvas#errorsCount{:height => "140", :style => "margin: 15px 10px 10px 0", :width => "140"}
              %td
                %table.tile_info
                  - errors_count_chart.each do |error|
                    %tr
                      %td
                        %p
                          %i.fa.fa-square{class: "#{error[:color]}"}>
                          = error[:name]
                          issues
                      %td= error[:total]
    .col-md-4.col-sm-4.col-xs-12
      .x_panel.tile.fixed_height_320.overflow_hidden
        .x_title
          %h2 Used routes
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          %table{:style => "width:100%"}
            %tr
              %th{:style => "width:37%;"}
                %p Top 5
              %th
                .col-lg-7.col-md-7.col-sm-7.col-xs-7
                  %p Type
                .col-lg-5.col-md-5.col-sm-5.col-xs-5
                  %p Total errors
            %tr
              %td
                %canvas#routesCount{:height => "140", :style => "margin: 15px 10px 10px 0", :width => "140"}
              %td
                %table.tile_info
                  - route_methods_chart.each do |method|
                    %tr
                      %td
                        %p
                          %i.fa.fa-square{class: "#{method[:color]}"}>
                          = method[:name]
                          routes
                      %td= method[:total]
  %br
  .row
    .col-md-12.col-sm-12.col-xs-12
      .x_panel.tile
        .x_title
          %h2
            Routes list
            %small There are #{table_with_routes[:body].count} routes
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          %table.countries_list
            %tbody
              - table_with_routes[:headers].each do |header|
                %th= header
              - table_with_routes[:body].each do |body|
                %tr
                  %td= body[:prefix]
                  %td= body[:verb]
                  %td= body[:uri]
                  %td= body[:pattern]
  %br/
  .row
    .col-md-4.col-sm-4.col-xs-12
      .x_panel
        .x_title
          %h2
            Issues & solutions
            %small= "#{issues_with_solutions_pipeline[:total]} issues has solutions"
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          .dashboard-widget-content
            - if issues_with_solutions_pipeline[:total] > 0
              %ul.list-unstyled.timeline.widget
                - issues_with_solutions_pipeline[:issues].first(7).each do |issue|
                  %li
                    .block
                      .block_content
                        %h2.title
                          %a{ href: "#{issue[:link]}" }= issue[:title]
                        .byline
                          %span according
                          to
                          %a{ href: "#{issue[:auditor_link]}" }= issue[:auditor_name]
                        %p.excerpt
                          = issue[:message]
                          %a{ href: "#{issue[:link]}" }Read more
              %a{ href: 'issues_and_solutions.html' } See more...
            - else
              %p There are any issues with solutions
    .col-md-4.col-sm-4.col-xs-12
      .x_panel
        .x_title
          %h2
            Hottest issues
            %small= "#{hottest_issues[:total]} hottest issues has solutions"
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          .dashboard-widget-content
            - if hottest_issues[:total] > 0
              %ul.list-unstyled.timeline.widget
                - hottest_issues[:issues].first(5).each do |issue|
                  %li
                    .block
                      .block_content
                        %h2.title
                          %a{ href: "#{issue[:link]}" }= issue[:title]
                        .byline
                          %span according to
                          %a{ href: "#{issue[:auditor_link]}" }= issue[:auditor_name]
                          %span Confidence:
                          %a{ href: "#{issue[:confidence_link]}" }= issue[:confidence]
                          %span In group:
                          %span{ style: "color: #73879C; font-weight: bold" }= issue[:group]
                        %p.excerpt
                          = issue[:message]
                        %p.excerpt
                          = issue[:file]
                          %a{ href: "#{issue[:link]}" }Read more
              %a{ href: 'hottest_issues.html' } See more...
            - else
              %p There are any hottest issues
  %br
  .row
    .col-md-6.col-sm-6.col-xs-12
      .x_panel
        .x_title
          %h2
            Used auditors
          %ul.nav.navbar-right
            %li
              %a.collapse-link
                %i.fa.fa-chevron-up
          .clearfix
        .x_content
          %ul.to_do
            - auditors_list.each do |list|
              %li
                %a.dropdown-toggle{"aria-expanded" => "false", "data-toggle" => "collapse", :href => "##{list[:group_name]}"}
                  = list[:group_name].to_s.humanize
                  %span.fa.fa-chevron-down
                %ul.collapse{ id: "#{list[:group_name]}" }
                  - list[:items].each do |item|
                    %li
                      %p
                        - if item[:enabled]
                          .icheckbox_flat-green.checked{:style => "position: relative;"}
                        - else
                          %input.flat{:type => "checkbox", checked: false, disabled: true}/
                        = item[:auditor_name]
